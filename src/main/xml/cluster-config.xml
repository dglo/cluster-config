<icecube>

  <cluster name="sps">

    <iceboss>
      <!-- While possible to run more than one JBoss instance per host,
        we aren't currently doing that.  So for now this identifies the
        one jboss instance on each host by id and locator-port. -->
      <id>0</id>
      <locator-port>4567</locator-port>
    </iceboss>

    <!-- Each location element corresponds to a host (and the iceboss
      instance on it) and lists the services and ejbs on that
      host. The rank attribute orders locations, for example the DB or
      ExpCont node might need to be handled differently within the
      cluster. -->
    <location rank="2" name="ichub21">
      <address>
        <host>sps-ichub21</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>21</id>
      </module>
    </location>

    <location rank="2" name="ichub29">
      <address>
        <host>sps-ichub29</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>29</id>
      </module>
    </location>

    <location rank="2" name="ichub30">
      <address>
        <host>sps-ichub30</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>30</id>
      </module>
    </location>

    <location rank="2" name="ichub38">
      <address>
        <host>sps-ichub38</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>38</id>
      </module>
    </location>

    <location rank="2" name="ichub39">
      <address>
        <host>sps-ichub39</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>39</id>
      </module>
    </location>

    <location rank="2" name="ichub40">
      <address>
        <host>sps-ichub40</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>40</id>
      </module>
    </location>

    <location rank="2" name="ichub49">
      <address>
        <host>sps-ichub49</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>49</id>
      </module>
    </location>

    <location rank="2" name="ichub50">
      <address>
        <host>sps-ichub50</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>50</id>
      </module>
    </location>

    <location rank="2" name="ichub59">
      <address>
        <host>sps-ichub59</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>59</id>
      </module>
    </location>

    <location rank="2" name="ithub01">
      <address>
        <host>sps-ithub01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>81</id>
      </module>
    </location>

    <location rank="2" name="ithub02">
      <address>
        <host>sps-ithub02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>82</id>
      </module>
    </location>

    <location rank="2" name="stringproc01">
      <address>
        <host>sps-stringproc01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>21</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>29</id>
      </module>
    </location>

    <location rank="2" name="stringproc02">
      <address>
        <host>sps-stringproc02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>snBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>tcalBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>monitorBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="stringproc03">
      <address>
        <host>sps-stringproc03</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>30</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>40</id>
      </module>
    </location>

    <location rank="2" name="stringproc04">
      <address>
        <host>sps-stringproc04</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>38</id>
      </module>
    </location>

    <location rank="2" name="stringproc05">
      <address>
        <host>sps-stringproc05</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>39</id>
      </module>
    </location>

    <location rank="2" name="stringproc06">
      <address>
        <host>sps-stringproc06</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>49</id>
      </module>
    </location>

    <location rank="2" name="stringproc07">
      <address>
        <host>sps-stringproc07</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>50</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>59</id>
      </module>
    </location>

    <location rank="2" name="icetop01">
      <address>
        <host>sps-icetop01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>iceTopDataHandler</name>
        <id>1</id>
      </module>

      <module>
        <name>iceTopDataHandler</name>
        <id>2</id>
      </module>
    </location>

    <location rank="2" name="evbuilder">
      <address>
        <host>sps-evbuilder</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>eventBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqToOffline</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="expcont">
      <address>
        <host>sps-expcont</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>daqControl</name>
        <id>0</id>
      </module>

      <module>
        <name>inIceTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>iceTopTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>globalTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="1" name="dbs">
      <address>
        <host>sps-dbs</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domhub-prod-conf</name>
      </module>

      <module>
        <name>stringProc-prod-conf</name>
      </module>

      <module>
        <name>icetopDataHandler-prod-conf</name>
      </module>

      <module>
        <name>tcalBuilder-prod-conf</name>
      </module>

      <module>
        <name>monitorBuilder-prod-conf</name>
      </module>

      <module>
        <name>snBuilder-prod-conf</name>
      </module>

      <module>
        <name>iniceTrig-prod-conf</name>
      </module>

      <module>
        <name>icetopTrig-prod-conf</name>
      </module>

      <module>
        <name>globalTrig-prod-conf</name>
      </module>

      <module>
        <name>triggerConfig</name>
      </module>

      <module>
        <name>eventBuilder-prod-conf</name>
      </module>

      <module>
        <name>daq-prod-conf</name>
      </module>

      <module>
        <name>daqcontrol-prod-conf</name>
      </module>
    </location>

    <every-location>
      <!-- These are modules which are deployed to every location (will
        be in every .ear file deployed).  These may or may not have an
        id. -->
      <module>
        <name>daq-jndi</name>
      </module>
      <module>
        <name>channelLocator</name>
      </module>
    </every-location>

  </cluster>


  <cluster name="sps_amanda">

    <iceboss>
      <!-- While possible to run more than one JBoss instance per host,
        we aren't currently doing that.  So for now this identifies the
        one jboss instance on each host by id and locator-port. -->
      <id>0</id>
      <locator-port>4567</locator-port>
    </iceboss>

    <!-- Each location element corresponds to a host (and the iceboss
      instance on it) and lists the services and ejbs on that
      host. The rank attribute orders locations, for example the DB or
      ExpCont node might need to be handled differently within the
      cluster. -->
    <location rank="2" name="amanda">
      <address>
        <host>sps-amanda</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="ichub21">
      <address>
        <host>sps-ichub21</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>21</id>
      </module>
    </location>

    <location rank="2" name="ichub29">
      <address>
        <host>sps-ichub29</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>29</id>
      </module>
    </location>

    <location rank="2" name="ichub30">
      <address>
        <host>sps-ichub30</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>30</id>
      </module>
    </location>

    <location rank="2" name="ichub38">
      <address>
        <host>sps-ichub38</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>38</id>
      </module>
    </location>

    <location rank="2" name="ichub39">
      <address>
        <host>sps-ichub39</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>39</id>
      </module>
    </location>

    <location rank="2" name="ichub40">
      <address>
        <host>sps-ichub40</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>40</id>
      </module>
    </location>

    <location rank="2" name="ichub49">
      <address>
        <host>sps-ichub49</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>49</id>
      </module>
    </location>

    <location rank="2" name="ichub50">
      <address>
        <host>sps-ichub50</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>50</id>
      </module>
    </location>

    <location rank="2" name="ichub59">
      <address>
        <host>sps-ichub59</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>59</id>
      </module>
    </location>

    <location rank="2" name="ithub01">
      <address>
        <host>sps-ithub01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>81</id>
      </module>
    </location>

    <location rank="2" name="ithub02">
      <address>
        <host>sps-ithub02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>82</id>
      </module>
    </location>

    <location rank="2" name="stringproc01">
      <address>
        <host>sps-stringproc01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>21</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>29</id>
      </module>
    </location>

    <location rank="2" name="stringproc02">
      <address>
        <host>sps-stringproc02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>snBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>tcalBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>monitorBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="stringproc03">
      <address>
        <host>sps-stringproc03</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>30</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>40</id>
      </module>
    </location>

    <location rank="2" name="stringproc04">
      <address>
        <host>sps-stringproc04</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>0</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>38</id>
      </module>
    </location>

    <location rank="2" name="stringproc05">
      <address>
        <host>sps-stringproc05</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>39</id>
      </module>
    </location>

    <location rank="2" name="stringproc06">
      <address>
        <host>sps-stringproc06</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>49</id>
      </module>
    </location>

    <location rank="2" name="stringproc07">
      <address>
        <host>sps-stringproc07</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>50</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>59</id>
      </module>
    </location>

    <location rank="2" name="icetop01">
      <address>
        <host>sps-icetop01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>iceTopDataHandler</name>
        <id>1</id>
      </module>

      <module>
        <name>iceTopDataHandler</name>
        <id>2</id>
      </module>
    </location>

    <location rank="2" name="evbuilder">
      <address>
        <host>sps-evbuilder</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>eventBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqToOffline</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="expcont">
      <address>
        <host>sps-expcont</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>daqControl</name>
        <id>0</id>
      </module>

      <module>
        <name>inIceTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>iceTopTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>globalTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="1" name="dbs">
      <address>
        <host>sps-dbs</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domhub-prod-conf</name>
      </module>

      <module>
        <name>stringProc-prod-conf</name>
      </module>

      <module>
        <name>icetopDataHandler-prod-conf</name>
      </module>

      <module>
        <name>tcalBuilder-prod-conf</name>
      </module>

      <module>
        <name>monitorBuilder-prod-conf</name>
      </module>

      <module>
        <name>snBuilder-prod-conf</name>
      </module>

      <module>
        <name>iniceTrig-prod-conf</name>
      </module>

      <module>
        <name>icetopTrig-prod-conf</name>
      </module>

      <module>
        <name>globalTrig-prod-conf</name>
      </module>

      <module>
        <name>triggerConfig</name>
      </module>

      <module>
        <name>eventBuilder-prod-conf</name>
      </module>

      <module>
        <name>daq-prod-conf</name>
      </module>

      <module>
        <name>daqcontrol-prod-conf</name>
      </module>
    </location>

    <every-location>
      <!-- These are modules which are deployed to every location (will
        be in every .ear file deployed).  These may or may not have an
        id. -->
      <module>
        <name>daq-jndi</name>
      </module>
      <module>
        <name>channelLocator</name>
      </module>
    </every-location>

  </cluster>


  <cluster name="spts64">

    <iceboss>
      <!-- While possible to run more than one JBoss instance per host,
        we aren't currently doing that.  So for now this identifies the
        one jboss instance on each host by id and locator-port. -->
      <id>0</id>
      <locator-port>4567</locator-port>
    </iceboss>

    <!-- Each location element corresponds to a host (and the iceboss
      instance on it) and lists the services and ejbs on that
      host. The rank attribute orders locations, for example the DB or
      ExpCont node might need to be handled differently within the
      cluster. -->
    <location rank="2" name="stringproc01">
      <address>
        <host>spts64-stringproc01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>1</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="stringproc02">
      <address>
        <host>spts64-stringproc02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>2</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>2</id>
      </module>
    </location>

    <location rank="2" name="stringproc03">
      <address>
        <host>spts64-stringproc03</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>3</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>3</id>
      </module>
    </location>

    <location rank="2" name="stringproc04">
      <address>
        <host>spts64-stringproc04</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>4</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>4</id>
      </module>
    </location>

    <location rank="2" name="stringproc05">
      <address>
        <host>spts64-stringproc05</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>5</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>5</id>
      </module>
    </location>

    <location rank="2" name="icetop01">
      <address>
        <host>spts64-icetop01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>81</id>
      </module>

      <module>
        <name>iceTopDataHandler</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="evbuilder">
      <address>
        <host>spts64-evbuilder</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>snBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>tcalBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>monitorBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>eventBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqToOffline</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="iitrigger">
      <address>
        <host>spts64-iitrigger</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>inIceTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="ittrigger">
      <address>
        <host>spts64-ittrigger</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>iceTopTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="gtrigger">
      <address>
        <host>spts64-gtrigger</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>globalTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="expcont">
      <address>
        <host>spts64-expcont</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>daqControl</name>
        <id>0</id>
      </module>
    </location>

    <location rank="1" name="dbs">
      <address>
        <host>spts64-dbs</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domhub-prod-conf</name>
      </module>

      <module>
        <name>stringProc-prod-conf</name>
      </module>

      <module>
        <name>icetopDataHandler-prod-conf</name>
      </module>

      <module>
        <name>tcalBuilder-prod-conf</name>
      </module>

      <module>
        <name>monitorBuilder-prod-conf</name>
      </module>

      <module>
        <name>snBuilder-prod-conf</name>
      </module>

      <module>
        <name>iniceTrig-prod-conf</name>
      </module>

      <module>
        <name>icetopTrig-prod-conf</name>
      </module>

      <module>
        <name>globalTrig-prod-conf</name>
      </module>

      <module>
        <name>triggerConfig</name>
      </module>

      <module>
        <name>eventBuilder-prod-conf</name>
      </module>

      <module>
        <name>daq-prod-conf</name>
      </module>

      <module>
        <name>daqcontrol-prod-conf</name>
      </module>

      <module>
        <name>payload-generator</name>
      </module>
    </location>

    <every-location>
      <!-- These are modules which are deployed to every location (will
        be in every .ear file deployed).  These may or may not have an
        id. -->
      <module>
        <name>daq-jndi</name>
      </module>
      <module>
        <name>channelLocator</name>
      </module>
    </every-location>

  </cluster>


  <cluster name="spts">

    <iceboss>
      <!-- While possible to run more than one JBoss instance per host,
        we aren't currently doing that.  So for now this identifies the
        one jboss instance on each host by id and locator-port. -->
      <id>0</id>
      <locator-port>4567</locator-port>
    </iceboss>

    <!-- Each location element corresponds to a host (and the iceboss
      instance on it) and lists the services and ejbs on that
      host. The rank attribute orders locations, for example the DB or
      ExpCont node might need to be handled differently within the
      cluster. -->
    <location rank="2" name="ichub21">
      <address>
        <host>spts-ichub21</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>21</id>
      </module>
    </location>

    <location rank="2" name="ithub01">
      <address>
        <host>spts-ithub01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>81</id>
      </module>
    </location>

    <location rank="2" name="stringproc01">
      <address>
        <host>spts-stringproc01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>21</id>
      </module>
    </location>

    <location rank="2" name="icetop01">
      <address>
        <host>spts-icetop01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>iceTopDataHandler</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="expcont">
      <address>
        <host>spts-expcont</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>daqControl</name>
        <id>0</id>
      </module>

      <module>
        <name>inIceTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>iceTopTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>globalTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="stringproc02">
      <address>
        <host>spts-stringproc02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>snBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>tcalBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>monitorBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="evbuilder">
      <address>
        <host>spts-evbuilder</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>eventBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqToOffline</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>0</id>
      </module>
    </location>

    <location rank="1" name="dbs">
      <address>
        <host>spts-dbs</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domhub-prod-conf</name>
      </module>

      <module>
        <name>stringProc-prod-conf</name>
      </module>

      <module>
        <name>icetopDataHandler-prod-conf</name>
      </module>

      <module>
        <name>tcalBuilder-prod-conf</name>
      </module>

      <module>
        <name>monitorBuilder-prod-conf</name>
      </module>

      <module>
        <name>snBuilder-prod-conf</name>
      </module>

      <module>
        <name>iniceTrig-prod-conf</name>
      </module>

      <module>
        <name>icetopTrig-prod-conf</name>
      </module>

      <module>
        <name>globalTrig-prod-conf</name>
      </module>

      <module>
        <name>triggerConfig</name>
      </module>

      <module>
        <name>eventBuilder-prod-conf</name>
      </module>

      <module>
        <name>daq-prod-conf</name>
      </module>

      <module>
        <name>daqcontrol-prod-conf</name>
      </module>
    </location>

    <every-location>
      <!-- These are modules which are deployed to every location (will
        be in every .ear file deployed).  These may or may not have an
        id. -->
      <module>
        <name>daq-jndi</name>
      </module>
      <module>
        <name>channelLocator</name>
      </module>
    </every-location>

  </cluster>


  <cluster name="spts_hisim">

    <iceboss>
      <!-- While possible to run more than one JBoss instance per host,
        we aren't currently doing that.  So for now this identifies the
        one jboss instance on each host by id and locator-port. -->
      <id>0</id>
      <locator-port>4567</locator-port>
    </iceboss>

    <!-- Each location element corresponds to a host (and the iceboss
      instance on it) and lists the services and ejbs on that
      host. The rank attribute orders locations, for example the DB or
      ExpCont node might need to be handled differently within the
      cluster. -->
    <location rank="2" name="dhs01">
      <address>
        <host>spts-dhs01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>1</id>
      </module>

      <module>
        <name>domHub</name>
        <id>2</id>
      </module>

      <module>
        <name>domHub</name>
        <id>3</id>
      </module>
    </location>

    <location rank="2" name="dhs02">
      <address>
        <host>spts-dhs02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>4</id>
      </module>

      <module>
        <name>domHub</name>
        <id>5</id>
      </module>

      <module>
        <name>domHub</name>
        <id>6</id>
      </module>
    </location>

    <location rank="2" name="dhs03">
      <address>
        <host>spts-dhs03</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>7</id>
      </module>

      <module>
        <name>domHub</name>
        <id>8</id>
      </module>

      <module>
        <name>domHub</name>
        <id>9</id>
      </module>
    </location>

    <location rank="2" name="ithub01">
      <address>
        <host>spts-ithub01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>81</id>
      </module>
    </location>

    <location rank="2" name="stringproc01">
      <address>
        <host>spts-stringproc01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>1</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>2</id>
      </module>
    </location>

    <location rank="2" name="stringproc02">
      <address>
        <host>spts-stringproc02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>snBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>tcalBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>monitorBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="stringproc03">
      <address>
        <host>spts-stringproc03</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>3</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>4</id>
      </module>
    </location>

    <location rank="2" name="stringproc04">
      <address>
        <host>spts-stringproc04</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>5</id>
      </module>
    </location>

    <location rank="2" name="stringproc05">
      <address>
        <host>spts-stringproc05</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>6</id>
      </module>
    </location>

    <location rank="2" name="stringproc06">
      <address>
        <host>spts-stringproc06</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>7</id>
      </module>
    </location>

    <location rank="2" name="stringproc07">
      <address>
        <host>spts-stringproc07</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>8</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>9</id>
      </module>
    </location>

    <location rank="2" name="icetop01">
      <address>
        <host>spts-icetop01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>iceTopDataHandler</name>
        <id>1</id>
      </module>
    </location>

    <location rank="2" name="evbuilder">
      <address>
        <host>spts-evbuilder</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>eventBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqToOffline</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="expcont">
      <address>
        <host>spts-expcont</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>daqControl</name>
        <id>0</id>
      </module>

      <module>
        <name>inIceTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>iceTopTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>globalTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="1" name="dbs">
      <address>
        <host>spts-dbs</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domhub-prod-conf</name>
      </module>

      <module>
        <name>stringProc-prod-conf</name>
      </module>

      <module>
        <name>icetopDataHandler-prod-conf</name>
      </module>

      <module>
        <name>tcalBuilder-prod-conf</name>
      </module>

      <module>
        <name>monitorBuilder-prod-conf</name>
      </module>

      <module>
        <name>snBuilder-prod-conf</name>
      </module>

      <module>
        <name>iniceTrig-prod-conf</name>
      </module>

      <module>
        <name>icetopTrig-prod-conf</name>
      </module>

      <module>
        <name>globalTrig-prod-conf</name>
      </module>

      <module>
        <name>triggerConfig</name>
      </module>

      <module>
        <name>eventBuilder-prod-conf</name>
      </module>

      <module>
        <name>daq-prod-conf</name>
      </module>

      <module>
        <name>daqcontrol-prod-conf</name>
      </module>

      <module>
        <name>payload-generator</name>
      </module>
    </location>

    <every-location>
      <!-- These are modules which are deployed to every location (will
        be in every .ear file deployed).  These may or may not have an
        id. -->
      <module>
        <name>daq-jndi</name>
      </module>
      <module>
        <name>channelLocator</name>
      </module>
    </every-location>

  </cluster>


  <cluster name="splts">

    <iceboss>
      <!-- While possible to run more than one JBoss instance per host,
        we aren't currently doing that.  So for now this identifies the
        one jboss instance on each host by id and locator-port. -->
      <id>0</id>
      <locator-port>4567</locator-port>
    </iceboss>

    <!-- Each location element corresponds to a host (and the iceboss
      instance on it) and lists the services and ejbs on that
      host. The rank attribute orders locations, for example the DB or
      ExpCont node might need to be handled differently within the
      cluster. -->
    <location rank="2" name="ichub01">
      <address>
        <host>splts-ichub01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>30</id>
      </module>
    </location>

    <location rank="2" name="ichub02">
      <address>
        <host>splts-ichub02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>29</id>
      </module>
    </location>

    <location rank="2" name="ichub03">
      <address>
        <host>splts-ichub03</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>21</id>
      </module>
    </location>

    <location rank="2" name="stringproc01">
      <address>
        <host>splts-stringproc01</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>21</id>
      </module>
    </location>

    <location rank="2" name="stringproc02">
      <address>
        <host>splts-stringproc02</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>stringProcessor</name>
        <id>29</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>30</id>
      </module>
    </location>

    <location rank="2" name="expcont">
      <address>
        <host>splts-expcont</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>inIceTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>globalTrigger</name>
        <id>0</id>
      </module>
    </location>

    <location rank="2" name="evbuilder">
      <address>
        <host>splts-evbuilder</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>snBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>tcalBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>monitorBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>eventBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqToOffline</name>
        <id>0</id>
      </module>

      <module>
        <name>daqControl</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>0</id>
      </module>
    </location>

    <location rank="1" name="dbs">
      <address>
        <host>splts-dbs</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domhub-prod-conf</name>
      </module>

      <module>
        <name>stringProc-prod-conf</name>
      </module>

      <module>
        <name>tcalBuilder-prod-conf</name>
      </module>

      <module>
        <name>monitorBuilder-prod-conf</name>
      </module>

      <module>
        <name>snBuilder-prod-conf</name>
      </module>

      <module>
        <name>iniceTrig-prod-conf</name>
      </module>

      <module>
        <name>globalTrig-prod-conf</name>
      </module>

      <module>
        <name>triggerConfig</name>
      </module>

      <module>
        <name>eventBuilder-prod-conf</name>
      </module>

      <module>
        <name>daq-prod-conf</name>
      </module>

      <module>
        <name>daqcontrol-prod-conf</name>
      </module>

      <module>
        <name>payload-generator</name>
      </module>
    </location>

    <every-location>
      <!-- These are modules which are deployed to every location (will
        be in every .ear file deployed).  These may or may not have an
        id. -->
      <module>
        <name>daq-jndi</name>
      </module>
      <module>
        <name>channelLocator</name>
      </module>
    </every-location>

  </cluster>


  <cluster name="merc">

    <iceboss>
      <!-- While possible to run more than one JBoss instance per host,
        we aren't currently doing that.  So for now this identifies the
        one jboss instance on each host by id and locator-port. -->
      <id>0</id>
      <locator-port>4567</locator-port>
    </iceboss>

    <!-- Each location element corresponds to a host (and the iceboss
      instance on it) and lists the services and ejbs on that
      host. The rank attribute orders locations, for example the DB or
      ExpCont node might need to be handled differently within the
      cluster. -->

    <!-- Warning: the merc "cluster" will probably not work properly
      if you put more than one location in it. -->
    <location rank="2" name="localhost">
      <address>
        <host>localhost</host>
        <iceboss>0</iceboss>
      </address>

      <module>
        <name>domHub</name>
        <id>0</id>
      </module>

      <module>
        <name>stringProcessor</name>
        <id>0</id>
      </module>

      <module>
        <name>domHub</name>
        <id>80</id>
      </module>

      <module>
        <name>iceTopDataHandler</name>
        <id>0</id>
      </module>

      <module>
        <name>inIceTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>iceTopTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>globalTrigger</name>
        <id>0</id>
      </module>

      <module>
        <name>snBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>tcalBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>monitorBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>eventBuilder</name>
        <id>0</id>
      </module>

      <module>
        <name>daqToOffline</name>
        <id>0</id>
      </module>

      <module>
        <name>daqControl</name>
        <id>0</id>
      </module>

      <module>
        <name>daqDispatch</name>
        <id>0</id>
      </module>


    <!-- List the ejb elements, if any, for populating the -app.xml  -->

      <module>
        <name>domhub-prod-conf</name>
      </module>

      <module>
        <name>stringProc-prod-conf</name>
      </module>

      <module>
        <name>icetopDataHandler-prod-conf</name>
      </module>

      <module>
        <name>tcalBuilder-prod-conf</name>
      </module>

      <module>
        <name>monitorBuilder-prod-conf</name>
      </module>

      <module>
        <name>snBuilder-prod-conf</name>
      </module>

      <module>
        <name>iniceTrig-prod-conf</name>
      </module>

      <module>
        <name>icetopTrig-prod-conf</name>
      </module>

      <module>
        <name>globalTrig-prod-conf</name>
      </module>

      <module>
        <name>triggerConfig</name>
      </module>

      <module>
        <name>eventBuilder-prod-conf</name>
      </module>

      <module>
        <name>daq-prod-conf</name>
      </module>

      <module>
        <name>daqcontrol-prod-conf</name>
      </module>

      <module>
        <name>payload-generator</name>
      </module>

    </location>

    <every-location>
      <!-- These are modules which are deployed to every location (will
        be in every .ear file deployed).  These may or may not have an
        id. -->
      <module>
        <name>daq-jndi</name>
      </module>
      <module>
        <name>channelLocator</name>
      </module>
    </every-location>

  </cluster>


  <module-properties-list>

    <!-- This is a cluster-independant listing of modules and their
      properties. -->
    
    <!-- DAQ-PROD modules -->

    <module-properties>
      <name>daq-jndi</name>
      <project>iceboss-services</project>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>channelLocator</name>
      <project>daq-common</project>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>daqToOffline</name>
      <project>daq-config-util</project>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>daqControl</name>
      <project>daqcontrol-prod</project>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>monitorBuilder</name>
      <project>monitorBuilder-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>tcalBuilder</name>
      <project>tcalBuilder-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>snBuilder</name>
      <project>snBuilder-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>domHub</name>
      <project>domhub-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>stringProcessor</name>
      <project>stringProc-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>iceTopDataHandler</name>
      <project>icetopDataHandler-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>iceTopTrigger</name>
      <project>icetopTrig-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>inIceTrigger</name>
      <project>iniceTrig-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>globalTrigger</name>
      <project>globalTrig-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>eventBuilder</name>
      <project>eventBuilder-prod</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>daqDispatch</name>
      <project>daq-dispatch</project>
      <channelLocator/>
      <daqControl/>
      <type>service</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>domhub-prod-conf</name>
      <project>domhub-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>stringProc-prod-conf</name>
      <project>stringProc-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>icetopDataHandler-prod-conf</name>
      <project>icetopDataHandler-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>tcalBuilder-prod-conf</name>
      <project>tcalBuilder-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>monitorBuilder-prod-conf</name>
      <project>monitorBuilder-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>snBuilder-prod-conf</name>
      <project>snBuilder-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>iniceTrig-prod-conf</name>
      <project>iniceTrig-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>icetopTrig-prod-conf</name>
      <project>icetopTrig-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>globalTrig-prod-conf</name>
      <project>globalTrig-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>triggerConfig</name>
      <project>triggerConfig</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>eventBuilder-prod-conf</name>
      <project>eventBuilder-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>daq-prod-conf</name>
      <project>daq-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>daqcontrol-prod-conf</name>
      <project>daqcontrol-prod-conf</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <module-properties>
      <name>payload-generator</name>
      <project>payload-generator</project>
      <type>ejb</type>
      <system>daq</system>
    </module-properties>

    <!-- dispatch-delivery modules -->
    
    <module-properties>
      <name>DDCtrl</name>
      <project>dd-control</project>
      <type>service</type>
      <system>dd</system>
    </module-properties>

    <module-properties>
      <name>PhysicsDD</name>
      <project>dispatch-delivery</project>
      <type>service</type>
      <system>dd</system>
    </module-properties>

    <module-properties>
      <name>PhysicsDDMgmt</name>
      <project>remote-delivery</project>
      <type>service</type>
      <system>dd</system>
    </module-properties>

    <module-properties>
      <name>PhysicsDDRemote</name>
      <project>dd-control</project>
      <type>service</type>
      <system>dd</system>
    </module-properties>

    <module-properties>
      <name>OtherDD</name>
      <project>dispatch-delivery</project>
      <type>service</type>
      <system>dd</system>
    </module-properties>

    <module-properties>
      <name>OtherDDMgmt</name>
      <project>dd-control</project>
      <type>service</type>
      <system>dd</system>
    </module-properties>

  </module-properties-list>

</icecube>
